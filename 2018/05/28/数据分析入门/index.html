<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="WSC_ZOU_Blog" type="application/atom+xml" />






<meta name="description" content="Jupyter NotebookTab补全从外观上，IPython shell和标准的Python解释器只是看起来不同。IPython shell的进步之一是其它IDE和交互计算分析环境都有的tab补全功能。在shell中输入表达式，按下Tab，会搜索已输入变量（对象、函数等等）的命名空间： 123456In [1]: an_apple = 27In [2]: an_example = 42In">
<meta property="og:type" content="article">
<meta property="og:title" content="数据分析入门">
<meta property="og:url" content="http://WSCZou.com/2018/05/28/数据分析入门/index.html">
<meta property="og:site_name" content="WSC_ZOU_Blog">
<meta property="og:description" content="Jupyter NotebookTab补全从外观上，IPython shell和标准的Python解释器只是看起来不同。IPython shell的进步之一是其它IDE和交互计算分析环境都有的tab补全功能。在shell中输入表达式，按下Tab，会搜索已输入变量（对象、函数等等）的命名空间： 123456In [1]: an_apple = 27In [2]: an_example = 42In">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/7178691-8188b0386238c16a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/579">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/7178691-a6c6df3ca8e0b98e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/7178691-866fcde885b1d357.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700">
<meta property="og:image" content="http://s13.sinaimg.cn/mw690/001LQmQ5ty6PsNXZXty3c&690">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/7178691-80e85ae6b9c89ada.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700">
<meta property="og:updated_time" content="2018-06-15T07:31:23.155Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="数据分析入门">
<meta name="twitter:description" content="Jupyter NotebookTab补全从外观上，IPython shell和标准的Python解释器只是看起来不同。IPython shell的进步之一是其它IDE和交互计算分析环境都有的tab补全功能。在shell中输入表达式，按下Tab，会搜索已输入变量（对象、函数等等）的命名空间： 123456In [1]: an_apple = 27In [2]: an_example = 42In">
<meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/7178691-8188b0386238c16a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/579">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://WSCZou.com/2018/05/28/数据分析入门/"/>





  <title>数据分析入门 | WSC_ZOU_Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">WSC_ZOU_Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://WSCZou.com/2018/05/28/数据分析入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WSC_ZOU">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WSC_ZOU_Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">数据分析入门</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-28T09:33:26+08:00">
                2018-05-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="Jupyter-Notebook"><a href="#Jupyter-Notebook" class="headerlink" title="Jupyter Notebook"></a>Jupyter Notebook</h1><h2 id="Tab补全"><a href="#Tab补全" class="headerlink" title="Tab补全"></a>Tab补全</h2><p>从外观上，IPython shell和标准的Python解释器只是看起来不同。IPython shell的进步之一是其它IDE和交互计算分析环境都有的tab补全功能。在shell中输入表达式，按下Tab，会搜索已输入变量（对象、函数等等）的命名空间：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">1</span>]: an_apple = <span class="number">27</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">2</span>]: an_example = <span class="number">42</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">3</span>]: an&lt;Tab&gt;</span><br><span class="line">an_apple    <span class="keyword">and</span>         an_example  any</span><br></pre></td></tr></table></figure>
<p>在这个例子中，IPython呈现除了之前两个定义的变量和Python的关键字和内建的函数<code>any</code>。当然，你也可以补全任何对象的方法和属性：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">3</span>]: b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">In [<span class="number">4</span>]: b.&lt;Tab&gt;</span><br><span class="line">b.append  b.count   b.insert  b.reverse</span><br><span class="line">b.clear   b.extend  b.pop     b.sort</span><br><span class="line">b.copy    b.index   b.remove</span><br></pre></td></tr></table></figure>
<p>同样也适用于模块：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">1</span>]: <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">In [<span class="number">2</span>]: datetime.&lt;Tab&gt;</span><br><span class="line">datetime.date          datetime.MAXYEAR       datetime.timedelta</span><br><span class="line">datetime.datetime      datetime.MINYEAR       datetime.timezone</span><br><span class="line">datetime.datetime_CAPI datetime.time          datetime.tzinfo</span><br></pre></td></tr></table></figure>
<p>在Jupyter notebook和新版的IPython（5.0及以上），自动补全功能是下拉框的形式。</p>
<blockquote>
<p>笔记：注意，默认情况下，IPython会隐藏下划线开头的方法和属性，比如魔术方法和内部的“私有”方法和属性，以避免混乱的显示（和让新手迷惑！）这些也可以tab补全，但是你必须首先键入一个下划线才能看到它们。如果你喜欢总是在tab补全中看到这样的方法，你可以IPython配置中进行设置。可以在IPython文档中查找方法。</p>
</blockquote>
<p>除了补全命名、对象和模块属性，Tab还可以补全其它的。当输入看似文件路径时（即使是Python字符串），按下Tab也可以补全电脑上对应的文件信息：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">7</span>]: datasets/movielens/&lt;Tab&gt;</span><br><span class="line">datasets/movielens/movies.dat    datasets/movielens/README</span><br><span class="line">datasets/movielens/ratings.dat   datasets/movielens/users.dat</span><br><span class="line"></span><br><span class="line">In [<span class="number">7</span>]: path = <span class="string">'datasets/movielens/&lt;Tab&gt;</span></span><br><span class="line"><span class="string">datasets/movielens/movies.dat    datasets/movielens/README</span></span><br><span class="line"><span class="string">datasets/movielens/ratings.dat   datasets/movielens/users.dat</span></span><br></pre></td></tr></table></figure>
<p>结合<code>%run</code>，tab补全可以节省许多键盘操作。</p>
<p>另外，tab补全可以补全函数的关键词参数（包括等于号=）。见图2-4。</p>
<p><img src="//upload-images.jianshu.io/upload_images/7178691-8188b0386238c16a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/579" alt="img"></p>
<p>图2-4 Jupyter notebook中自动补全函数关键词</p>
<p>我们来仔细看看函数。</p>
<h2 id="自省"><a href="#自省" class="headerlink" title="自省"></a>自省</h2><p>在变量前后使用问号？，可以显示对象的信息：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">8</span>]: b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">In [9]: b?</span><br><span class="line">Type:       list</span><br><span class="line">String Form:[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">Length:     <span class="number">3</span></span><br><span class="line">Docstring:</span><br><span class="line">list() -&gt; new empty list</span><br><span class="line">list(iterable) -&gt; new list initialized from iterable's items</span><br><span class="line"></span><br><span class="line">In [10]: print?</span><br><span class="line">Docstring:</span><br><span class="line">print(value, ..., sep=<span class="string">' '</span>, end=<span class="string">'\n'</span>, file=sys.stdout, flush=<span class="keyword">False</span>)</span><br><span class="line"></span><br><span class="line">Prints the values to a stream, <span class="keyword">or</span> to sys.stdout by default.</span><br><span class="line">Optional keyword arguments:</span><br><span class="line">file:  a file-like object (stream); defaults to the current sys.stdout.</span><br><span class="line">sep:   string inserted between values, default a space.</span><br><span class="line">end:   string appended after the last value, default a newline.</span><br><span class="line">flush: whether to forcibly flush the stream.</span><br><span class="line">Type:      builtin_function_or_method</span><br></pre></td></tr></table></figure>
<p>这可以作为对象的自省。如果对象是一个函数或实例方法，定义过的文档字符串，也会显示出信息。假设我们写了一个如下的函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_numbers</span><span class="params">(a, b)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Add two numbers together</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns</span></span><br><span class="line"><span class="string">    -------</span></span><br><span class="line"><span class="string">    the_sum : type of arguments</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br></pre></td></tr></table></figure>
<p>然后使用?符号，就可以显示如下的文档字符串：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">In [11]: add_numbers?</span><br><span class="line">Signature: add_numbers(a, b)</span><br><span class="line">Docstring:</span><br><span class="line">Add two numbers together</span><br><span class="line"></span><br><span class="line">Returns</span><br><span class="line">-------</span><br><span class="line">the_sum : type of arguments</span><br><span class="line">File:      &lt;ipython-input<span class="number">-9</span><span class="number">-6</span>a548a216e27&gt;</span><br><span class="line">Type:      function</span><br></pre></td></tr></table></figure>
<p>使用??会显示函数的源码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">In [12]: add_numbers??</span><br><span class="line">Signature: add_numbers(a, b)</span><br><span class="line">Source:</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_numbers</span><span class="params">(a, b)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Add two numbers together</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns</span></span><br><span class="line"><span class="string">    -------</span></span><br><span class="line"><span class="string">    the_sum : type of arguments</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">File:      &lt;ipython-input<span class="number">-9</span><span class="number">-6</span>a548a216e27&gt;</span><br><span class="line">Type:      function</span><br></pre></td></tr></table></figure>
<p>?还有一个用途，就是像Unix或Windows命令行一样搜索IPython的命名空间。字符与通配符结合可以匹配所有的名字。例如，我们可以获得所有包含load的顶级NumPy命名空间：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [13]: np.*load*?</span><br><span class="line">np.__loader__</span><br><span class="line">np.load</span><br><span class="line">np.loads</span><br><span class="line">np.loadtxt</span><br><span class="line">np.pkgload</span><br></pre></td></tr></table></figure>
<h2 id="run命令"><a href="#run命令" class="headerlink" title="%run命令"></a>%run命令</h2><p>你可以用<code>%run</code>命令运行所有的Python程序。假设有一个文件<code>ipython_script_test.py</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x, y, z)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> (x + y) / z</span><br><span class="line"></span><br><span class="line">a = <span class="number">5</span></span><br><span class="line">b = <span class="number">6</span></span><br><span class="line">c = <span class="number">7.5</span></span><br><span class="line"></span><br><span class="line">result = f(a, b, c)</span><br></pre></td></tr></table></figure>
<p>可以如下运行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">14</span>]: %run ipython_script_test.py</span><br></pre></td></tr></table></figure>
<p>这段脚本运行在空的命名空间（没有import和其它定义的变量），因此结果和普通的运行方式<code>python script.py</code>相同。文件中所有定义的变量（import、函数和全局变量，除非抛出异常），都可以在IPython shell中随后访问：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">15</span>]: c</span><br><span class="line">Out [<span class="number">15</span>]: <span class="number">7.5</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">16</span>]: result</span><br><span class="line">Out[<span class="number">16</span>]: <span class="number">1.4666666666666666</span></span><br></pre></td></tr></table></figure>
<p>如果一个Python脚本需要命令行参数（在<code>sys.argv</code>中查找），可以在文件路径之后传递，就像在命令行上运行一样。</p>
<blockquote>
<p>笔记：如果想让一个脚本访问IPython已经定义过的变量，可以使用<code>%run -i</code>。</p>
</blockquote>
<p>在Jupyter notebook中，你也可以使用<code>%load</code>，它将脚本导入到一个代码格中：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>%load ipython_script_test.py</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x, y, z)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> (x + y) / z</span><br><span class="line">    a = <span class="number">5</span></span><br><span class="line">    b = <span class="number">6</span></span><br><span class="line">    c = <span class="number">7.5</span></span><br><span class="line"></span><br><span class="line">    result = f(a, b, c)</span><br></pre></td></tr></table></figure>
<h2 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间`"></a>命名空间`</h2><p>python<code>使用命名空间记录变量。</code>python<code>中的命名空间就像是一个</code>dict<code>，</code>key<code>是变量的名字，</code>value`是变量的值。</p>
<p><code>python</code>中，每个函数都有一个自己的命名空间，叫做<code>local namespace</code>，它记录了函数的变量。</p>
<p><code>python</code>中，每个<code>module</code>有一个自己的命名空间，叫做<code>global namespace</code>，它记录了<code>module</code>的变量，包括 <code>functions, classes</code>和其它<code>imported modules</code>，还有 <code>module</code>级别的 变量和常量。</p>
<p>还有一个<code>build-in</code> 命名空间，可以被任意模块访问，这个<code>build-in</code>命名空间中包含了<code>build-in function</code> 和 <code>exceptions</code>。</p>
<h1 id="NumPy基础：数组和矢量计算"><a href="#NumPy基础：数组和矢量计算" class="headerlink" title="NumPy基础：数组和矢量计算"></a>NumPy基础：数组和矢量计算</h1><p>NumPy之于数值计算特别重要的原因之一，是因为它可以高效处理大数组的数据。这是因为：</p>
<ul>
<li>NumPy是在一个连续的内存块中存储数据，独立于其他Python内置对象。<strong>NumPy的C语言编写的算法库可以操作内存</strong>，而不必进行类型检查或其它前期工作。比起Python的内置序列，NumPy数组使用的内存更少。</li>
<li>NumPy可以在整个数组上执行复杂的计算，而不需要Python的for循环。</li>
</ul>
<h2 id="NumPy的ndarray：一种多维数组对象"><a href="#NumPy的ndarray：一种多维数组对象" class="headerlink" title="NumPy的ndarray：一种多维数组对象"></a>NumPy的ndarray：一种多维数组对象</h2><h3 id="创建ndarray"><a href="#创建ndarray" class="headerlink" title="创建ndarray"></a>创建ndarray</h3><h3 id="ndarray的数据类型"><a href="#ndarray的数据类型" class="headerlink" title="ndarray的数据类型"></a>ndarray的数据类型</h3><p><em>arange会根据步长自动选取数据类型</em></p>
<h3 id="数组和标量之间的运算"><a href="#数组和标量之间的运算" class="headerlink" title="数组和标量之间的运算"></a>数组和标量之间的运算</h3><h3 id="基本的索引和切片"><a href="#基本的索引和切片" class="headerlink" title="基本的索引和切片"></a>基本的索引和切片</h3><h2 id="利用数组进行数据处理："><a href="#利用数组进行数据处理：" class="headerlink" title="利用数组进行数据处理："></a>利用数组进行数据处理：</h2><p><strong><em>用数组表达式代替循环的做法，通常被称为矢量化</em></strong></p>
<h2 id="1-计算（x-2-y-2）-用meshgrid函数把x，y分开成两个独立数组，然后用np-sqrt-xs-2-ys-2"><a href="#1-计算（x-2-y-2）-用meshgrid函数把x，y分开成两个独立数组，然后用np-sqrt-xs-2-ys-2" class="headerlink" title="1.计算（x^2,y^2）:用meshgrid函数把x，y分开成两个独立数组，然后用np.sqrt(xs  2+ys  2)"></a>1.计算（x^2,y^2）:用meshgrid函数把x，y分开成两个独立数组，然后用np.sqrt(xs <strong> 2+ys </strong> 2)</h2><ul>
<li><h3 id="np-meshgrid函数"><a href="#np-meshgrid函数" class="headerlink" title="np.meshgrid函数"></a>np.meshgrid函数</h3></li>
</ul>
<p>接受两个一维数组，并产生两个二维矩阵（对应于两个数组中所有的(x,y)对）： </p>
<p><a href="http://baike.baidu.com/view/244398.htm" target="_blank" rel="noopener">mesh</a>grid是MATLAB中用于生成网格<a href="http://baike.baidu.com/view/984096.htm" target="_blank" rel="noopener">采样点</a>的函数。在使用MATLAB进行3-D图形绘制方面有着广泛的应用。</p>
<ul>
<li><h4 id="函数功能"><a href="#函数功能" class="headerlink" title="函数功能"></a>函数功能</h4></li>
</ul>
<p>生成绘制3-D图形所需的<a href="http://baike.baidu.com/view/1396040.htm" target="_blank" rel="noopener">网格数据</a>。在计算机中进行绘图操作时， 往往需要一些<a href="http://baike.baidu.com/view/984096.htm" target="_blank" rel="noopener">采样点</a>，然后根据这些采样点来绘制出整个图形。在进行3-D绘图操作时，涉及到x、y、z三组数据，而x、y这两组数据可以看做是在Oxy平面内对坐标进行采样得到的坐标对(x, y)。</p>
<p>例如， 要在“3&lt;=x&lt;=5，6&lt;=y&lt;=9，z不限制<a href="http://baike.baidu.com/view/70334.htm" target="_blank" rel="noopener">区间</a>” 这个区域内绘制一个3-D图形，如果只需要整数坐标为<a href="http://baike.baidu.com/view/984096.htm" target="_blank" rel="noopener">采样点</a>的话。我们可能需要下面这样一个坐标构成的<a href="http://baike.baidu.com/view/10337.htm" target="_blank" rel="noopener">矩阵</a>：</p>
<p>(3,9),(4,9),(5,9);</p>
<p>(3,8),(4,8),(5,8);</p>
<p>(3,7),(4,7),(5,7);</p>
<p>(3,6),(4,6),(5,6);   // <strong>这些都是XOY平面的坐标点</strong></p>
<p>在matlab中我们可以这样描述这个坐标<a href="http://baike.baidu.com/view/10337.htm" target="_blank" rel="noopener">矩阵</a>：</p>
<p>把各个点的x坐标独立出来，得：</p>
<p>3,4,5;</p>
<p>3,4,5;</p>
<p>3,4,5;</p>
<p>3,4,5;</p>
<p>可以把这个矩阵设为X~~</p>
<p>再把各个点的y坐标也独立出来：</p>
<p>9,9,9;</p>
<p>8,8,8;</p>
<p>7,7,7;</p>
<p>6,6,6;</p>
<p>可以把这个矩阵设为Y~~</p>
<p>这样对应的x、y结合，便表示了上面的坐标<a href="http://baike.baidu.com/view/10337.htm" target="_blank" rel="noopener">矩阵</a>。<a href="http://baike.baidu.com/view/244398.htm" target="_blank" rel="noopener">mesh</a>grid就是产生这样两个<a href="http://baike.baidu.com/view/10337.htm" target="_blank" rel="noopener">矩阵</a>，来简化我们的操作。然后根据(x, y)计算获得z，并绘制出三维图形。</p>
<ul>
<li><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4></li>
</ul>
<p>[X,Y] = <a href="http://baike.baidu.com/view/244398.htm" target="_blank" rel="noopener">mesh</a>grid(x,y)    // <strong>这个语句是用的最多的语句</strong></p>
<p>上面的描述，我们可以知道，<a href="http://baike.baidu.com/view/244398.htm" target="_blank" rel="noopener">mesh</a>grid返回的两个<a href="http://baike.baidu.com/view/10337.htm" target="_blank" rel="noopener">矩阵</a>X、Y必定是行数、列数相等的（即X、Y两个矩阵都有相同的行数，和相同的列数）</p>
<p>且X、Y的行数都等于输入参数y中元素的总个数，X、Y的列数都等于输入参数x中元素总个数（这个结论可以通过查看<a href="http://baike.baidu.com/view/244398.htm" target="_blank" rel="noopener">mesh</a>grid的源代码得到，可以通过示例程序得到验证）。（我们自己也可以体会到）</p>
<p>[X,Y]=<a href="http://baike.baidu.com/view/244398.htm" target="_blank" rel="noopener">mesh</a>grid(x)与[X,Y]=<a href="http://baike.baidu.com/view/244398.htm" target="_blank" rel="noopener">mesh</a>grid(x,x)是等同的</p>
<p>[X,Y,Z]=<a href="http://baike.baidu.com/view/244398.htm" target="_blank" rel="noopener">mesh</a>grid(x,y,z)生成三维<a href="http://baike.baidu.com/view/209670.htm" target="_blank" rel="noopener">数组</a>，可用来计算三<a href="http://baike.baidu.com/view/296689.htm" target="_blank" rel="noopener">变量</a>的函数和绘制三维立体图</p>
<p>相关函数： plot3、<a href="http://baike.baidu.com/view/244398.htm" target="_blank" rel="noopener">mesh</a>、<a href="http://baike.baidu.com/view/385941.htm" target="_blank" rel="noopener">surf</a>、automesh、<a href="http://baike.baidu.com/view/8025701.htm" target="_blank" rel="noopener">ndgrid</a></p>
<h2 id="将条件逻辑表述为数组运算"><a href="#将条件逻辑表述为数组运算" class="headerlink" title="将条件逻辑表述为数组运算"></a>将条件逻辑表述为数组运算</h2><p>numpy.where函数是三元表达式x if condition else y的矢量化版本</p>
<p>假设有一个由随机数据组成的矩阵，你希望将所有正值替换为2，将所有负值替换为－2。若利用np.where，则会非常简单：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">172</span>]: arr = np.random.randn(<span class="number">4</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">173</span>]: arr</span><br><span class="line">Out[<span class="number">173</span>]: </span><br><span class="line">array([[<span class="number">-0.5031</span>, <span class="number">-0.6223</span>, <span class="number">-0.9212</span>, <span class="number">-0.7262</span>],</span><br><span class="line">       [ <span class="number">0.2229</span>,  <span class="number">0.0513</span>, <span class="number">-1.1577</span>,  <span class="number">0.8167</span>],</span><br><span class="line">       [ <span class="number">0.4336</span>,  <span class="number">1.0107</span>,  <span class="number">1.8249</span>, <span class="number">-0.9975</span>],</span><br><span class="line">       [ <span class="number">0.8506</span>, <span class="number">-0.1316</span>,  <span class="number">0.9124</span>,  <span class="number">0.1882</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">174</span>]: arr &gt; <span class="number">0</span></span><br><span class="line">Out[<span class="number">174</span>]: </span><br><span class="line">array([[<span class="keyword">False</span>, <span class="keyword">False</span>, <span class="keyword">False</span>, <span class="keyword">False</span>],</span><br><span class="line">       [ <span class="keyword">True</span>,  <span class="keyword">True</span>, <span class="keyword">False</span>,  <span class="keyword">True</span>],</span><br><span class="line">       [ <span class="keyword">True</span>,  <span class="keyword">True</span>,  <span class="keyword">True</span>, <span class="keyword">False</span>],</span><br><span class="line">       [ <span class="keyword">True</span>, <span class="keyword">False</span>,  <span class="keyword">True</span>,  <span class="keyword">True</span>]], dtype=bool)</span><br><span class="line"></span><br><span class="line">In [<span class="number">175</span>]: np.where(arr &gt; <span class="number">0</span>, <span class="number">2</span>, <span class="number">-2</span>)</span><br><span class="line">Out[<span class="number">175</span>]: </span><br><span class="line">array([[<span class="number">-2</span>, <span class="number">-2</span>, <span class="number">-2</span>, <span class="number">-2</span>],</span><br><span class="line">       [ <span class="number">2</span>,  <span class="number">2</span>, <span class="number">-2</span>,  <span class="number">2</span>],</span><br><span class="line">       [ <span class="number">2</span>,  <span class="number">2</span>,  <span class="number">2</span>, <span class="number">-2</span>],</span><br><span class="line">       [ <span class="number">2</span>, <span class="number">-2</span>,  <span class="number">2</span>,  <span class="number">2</span>]])</span><br></pre></td></tr></table></figure>
<p>使用np.where，可以将标量和数组结合起来。例如，我可用常数2替换arr中所有正的值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">176</span>]: np.where(arr &gt; <span class="number">0</span>, <span class="number">2</span>, arr) <span class="comment"># set only positive values to 2</span></span><br><span class="line">Out[<span class="number">176</span>]: </span><br><span class="line">array([[<span class="number">-0.5031</span>, <span class="number">-0.6223</span>, <span class="number">-0.9212</span>, <span class="number">-0.7262</span>],</span><br><span class="line">       [ <span class="number">2.</span>    ,  <span class="number">2.</span>    , <span class="number">-1.1577</span>,  <span class="number">2.</span>    ],</span><br><span class="line">       [ <span class="number">2.</span>    ,  <span class="number">2.</span>    ,  <span class="number">2.</span>    , <span class="number">-0.9975</span>],</span><br><span class="line">       [ <span class="number">2.</span>    , <span class="number">-0.1316</span>,  <span class="number">2.</span>    ,  <span class="number">2.</span>    ]])</span><br></pre></td></tr></table></figure>
<p>传递给where的数组大小可以不相等，甚至可以是标量值。</p>
<h2 id="数学和统计方法："><a href="#数学和统计方法：" class="headerlink" title="数学和统计方法："></a>数学和统计方法：</h2><p>arr.mean(axis=1):求取均值 </p>
<p>arr.sum(0)</p>
<p>mean和sum这类的函数可以接受一个axis选项参数，用于计算该轴向上的统计值，最终结果是一个少一维的数组：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">182</span>]: arr.mean(axis=<span class="number">1</span>)</span><br><span class="line">Out[<span class="number">182</span>]: array([ <span class="number">1.022</span> ,  <span class="number">0.1875</span>, <span class="number">-0.502</span> , <span class="number">-0.0881</span>,  <span class="number">0.3611</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">183</span>]: arr.sum(axis=<span class="number">0</span>)</span><br><span class="line">Out[<span class="number">183</span>]: array([ <span class="number">3.1693</span>, <span class="number">-2.6345</span>,  <span class="number">2.2381</span>,  <span class="number">1.1486</span>])</span><br></pre></td></tr></table></figure>
<p> <img src="https://upload-images.jianshu.io/upload_images/7178691-a6c6df3ca8e0b98e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt="img"><img src="https://upload-images.jianshu.io/upload_images/7178691-866fcde885b1d357.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt="img"></p>
<p> python3中numpy生成随机数是:np.random.randn()而不是arr=randn()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">arr=np.random.randn(<span class="number">5</span>,<span class="number">3</span>,<span class="number">2</span>)</span><br><span class="line">arr</span><br><span class="line">array([[[ <span class="number">0.64940349</span>, <span class="number">-0.15975234</span>],</span><br><span class="line">        [ <span class="number">0.29735591</span>,  <span class="number">0.55789277</span>],</span><br><span class="line">        [<span class="number">-0.89126438</span>, <span class="number">-0.17877176</span>]],</span><br><span class="line"></span><br><span class="line">       [[ <span class="number">0.423854</span>  ,  <span class="number">0.20532171</span>],</span><br><span class="line">        [ <span class="number">2.10879442</span>,  <span class="number">0.65558143</span>],</span><br><span class="line">        [<span class="number">-1.24561077</span>,  <span class="number">0.5913198</span> ]],</span><br><span class="line"></span><br><span class="line">       [[ <span class="number">0.87765436</span>, <span class="number">-1.10474883</span>],</span><br><span class="line">        [ <span class="number">0.55865895</span>, <span class="number">-0.29967409</span>],</span><br><span class="line">        [<span class="number">-1.62506822</span>,  <span class="number">1.18154769</span>]],</span><br><span class="line"></span><br><span class="line">       [[ <span class="number">2.03562367</span>,  <span class="number">2.61382019</span>],</span><br><span class="line">        [<span class="number">-0.36074442</span>,  <span class="number">0.1386859</span> ],</span><br><span class="line">        [ <span class="number">1.01916762</span>, <span class="number">-0.90662428</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">-0.60707229</span>, <span class="number">-0.65355764</span>],</span><br><span class="line">        [<span class="number">-0.39045661</span>,  <span class="number">1.39100898</span>],</span><br><span class="line">        [<span class="number">-0.44060985</span>, <span class="number">-0.39515</span>   ]]])</span><br><span class="line">arr.sort(<span class="number">1</span>)</span><br><span class="line">arr</span><br><span class="line">array([[[<span class="number">-0.89126438</span>, <span class="number">-0.17877176</span>],</span><br><span class="line">        [<span class="number">-0.15975234</span>,  <span class="number">0.55789277</span>],</span><br><span class="line">        [ <span class="number">0.29735591</span>,  <span class="number">0.64940349</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">-1.24561077</span>,  <span class="number">0.423854</span>  ],</span><br><span class="line">        [ <span class="number">0.20532171</span>,  <span class="number">0.5913198</span> ],</span><br><span class="line">        [ <span class="number">0.65558143</span>,  <span class="number">2.10879442</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">-1.62506822</span>,  <span class="number">0.55865895</span>],</span><br><span class="line">        [<span class="number">-1.10474883</span>,  <span class="number">0.87765436</span>],</span><br><span class="line">        [<span class="number">-0.29967409</span>,  <span class="number">1.18154769</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">-0.90662428</span>,  <span class="number">0.1386859</span> ],</span><br><span class="line">        [<span class="number">-0.36074442</span>,  <span class="number">1.01916762</span>],</span><br><span class="line">        [ <span class="number">2.03562367</span>,  <span class="number">2.61382019</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">-0.65355764</span>, <span class="number">-0.60707229</span>],</span><br><span class="line">        [<span class="number">-0.44060985</span>, <span class="number">-0.39515</span>   ],</span><br><span class="line">        [<span class="number">-0.39045661</span>,  <span class="number">1.39100898</span>]]])</span><br><span class="line">arr.sort(<span class="number">2</span>)</span><br><span class="line">arr</span><br><span class="line">array([[[<span class="number">-0.89126438</span>, <span class="number">-0.17877176</span>],</span><br><span class="line">        [<span class="number">-0.15975234</span>,  <span class="number">0.55789277</span>],</span><br><span class="line">        [ <span class="number">0.29735591</span>,  <span class="number">0.64940349</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">-1.24561077</span>,  <span class="number">0.423854</span>  ],</span><br><span class="line">        [ <span class="number">0.20532171</span>,  <span class="number">0.5913198</span> ],</span><br><span class="line">        [ <span class="number">0.65558143</span>,  <span class="number">2.10879442</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">-1.62506822</span>,  <span class="number">0.55865895</span>],</span><br><span class="line">        [<span class="number">-1.10474883</span>,  <span class="number">0.87765436</span>],</span><br><span class="line">        [<span class="number">-0.29967409</span>,  <span class="number">1.18154769</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">-0.90662428</span>,  <span class="number">0.1386859</span> ],</span><br><span class="line">        [<span class="number">-0.36074442</span>,  <span class="number">1.01916762</span>],</span><br><span class="line">        [ <span class="number">2.03562367</span>,  <span class="number">2.61382019</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">-0.65355764</span>, <span class="number">-0.60707229</span>],</span><br><span class="line">        [<span class="number">-0.44060985</span>, <span class="number">-0.39515</span>   ],</span><br><span class="line">        [<span class="number">-0.39045661</span>,  <span class="number">1.39100898</span>]]])</span><br></pre></td></tr></table></figure>
<p> 顶级方法np.sort返回的是数组的已排序副本，而就地排序则会修改数组本身。计算数组分位数最简单的办法是对其进行排序，然后选取特定位置的值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">203</span>]: large_arr = np.random.randn(<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">204</span>]: large_arr.sort()</span><br><span class="line"></span><br><span class="line">In [<span class="number">205</span>]: large_arr[int(<span class="number">0.05</span> * len(large_arr))] <span class="comment"># 5% quantile</span></span><br><span class="line">Out[<span class="number">205</span>]: <span class="number">-1.5311513550102103</span></span><br></pre></td></tr></table></figure>
<p> 5% quantile解释：</p>
<p> 随机变量的分布与分位数概念 </p>
<p> 在质量工程师的培训中，我们经常询问学员以下图形是什么曲线，学员普遍能够回答是正态分布曲线，但进一步询问学员该曲线的纵轴f(x)表示什么，许多同学以为是概率值。其实这个曲线是正态分布概率密度曲线，f(x)是指随机变量X在观察值为x时的概率密度，如果随机变量X的单位为mm，则f(x)的单位为%/mm。曲线与X轴所围成的面积表示概率，该面积等于1，因为随机变量的所有可能取值（即：100%）都在X轴上。</p>
<p>以下是一个均值=10，标准差=0.5的正态分布概率密度曲线的例子，x=9.020的垂线与该分布的概率密度曲线和X轴所围成的左侧区域面积=0.025，该面积表示在随机变量X的总体分布中，有2.5%的值小于9.020，也就是说在总体分布中，随机变量X的取值小于9.020的概率为2.5%。同样，x=10.98的垂线与该分布的概率密度曲线和X轴所围成的右侧区域面积=0.025，该面积表示在随机变量X的总体分布中，有2.5%的值大于10.98，也就是说在总体分布中，随机变量X的取值大于10.98的概率为2.5%（也即是随机变量X的取值小于10.98的概率为97.5%）。<strong>在这个分布中，x=9.020的值被称为X的2.5%分位数（即：X2.5%=9.020）</strong>，x=10.98的值被称为X的97.5%分位数（X97.5%=10.98）。随机变量X有95%（即：97.5% - 2.5%=95%）的取值落在9.020至10.98之间。每个分位数都是随机变量所有可能取值中的某个值。按照定义，若某个值Xp被称为随机变量X的p分位数，则随机变量X的取值小于Xp的概率为p。</p>
<p>​                        <a href="http://photo.blog.sina.com.cn/showpic.html#blogid=60be90250102vby8&amp;url=http://album.sina.com.cn/pic/001LQmQ5ty6PsNXZXty3c" target="_blank" rel="noopener"><img src="http://s13.sinaimg.cn/mw690/001LQmQ5ty6PsNXZXty3c&amp;690" alt="随机变量的分布与分位数概念"></a></p>
<h2 id="唯一化以及其它的集合逻辑"><a href="#唯一化以及其它的集合逻辑" class="headerlink" title="唯一化以及其它的集合逻辑"></a>唯一化以及其它的集合逻辑</h2><p>NumPy提供了一些针对一维ndarray的基本集合运算。最常用的可能要数np.unique了，它用于找出数组中的唯一值并返回已排序的结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">206</span>]: names = np.array([<span class="string">'Bob'</span>, <span class="string">'Joe'</span>, <span class="string">'Will'</span>, <span class="string">'Bob'</span>, <span class="string">'Will'</span>, <span class="string">'Joe'</span>, <span class="string">'Joe'</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">207</span>]: np.unique(names)</span><br><span class="line">Out[<span class="number">207</span>]: </span><br><span class="line">array([<span class="string">'Bob'</span>, <span class="string">'Joe'</span>, <span class="string">'Will'</span>],</span><br><span class="line">      dtype=<span class="string">'&lt;U4'</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">208</span>]: ints = np.array([<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">209</span>]: np.unique(ints)</span><br><span class="line">Out[<span class="number">209</span>]: array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>
<p>拿跟np.unique等价的纯Python代码来对比一下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">210</span>]: sorted(set(names))</span><br><span class="line">Out[<span class="number">210</span>]: [<span class="string">'Bob'</span>, <span class="string">'Joe'</span>, <span class="string">'Will'</span>]</span><br></pre></td></tr></table></figure>
<p>另一个函数np.in1d用于测试一个数组中的值在另一个数组中的成员资格，返回一个布尔型数组：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">211</span>]: values = np.array([<span class="number">6</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">212</span>]: np.in1d(values, [<span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>])</span><br><span class="line">Out[<span class="number">212</span>]: array([ <span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">False</span>,  <span class="keyword">True</span>,  <span class="keyword">True</span>, <span class="keyword">False</span>,  <span class="keyword">True</span>], dtype=bool)</span><br></pre></td></tr></table></figure>
<p> <img src="https://upload-images.jianshu.io/upload_images/7178691-80e85ae6b9c89ada.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt="img"></p>
<h2 id="用于数组的文件输入输出"><a href="#用于数组的文件输入输出" class="headerlink" title="用于数组的文件输入输出"></a>用于数组的文件输入输出</h2><p> NumPy能够读写磁盘上的文本数据或二进制数据。 </p>
<p> np.save和np.load是读写磁盘数组数据的两个主要函数。默认情况下，数组是以未压缩的原始二进制格式保存在扩展名为.npy的文件中的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">213</span>]: arr = np.arange(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">214</span>]: np.save(<span class="string">'some_array'</span>, arr)</span><br></pre></td></tr></table></figure>
<p>如果文件路径末尾没有扩展名.npy，则该扩展名会被自动加上。然后就可以通过np.load读取磁盘上的数组：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">215</span>]: np.load(<span class="string">'some_array.npy'</span>)</span><br><span class="line">Out[<span class="number">215</span>]: array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>
<p>通过np.savez可以将多个数组保存到一个未压缩文件中，将数组以关键字参数的形式传入即可：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">216</span>]: np.savez(<span class="string">'array_archive.npz'</span>, a=arr, b=arr)</span><br></pre></td></tr></table></figure>
<p>加载.npz文件时，你会得到一个类似字典的对象，该对象会对各个数组进行延迟加载：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">217</span>]: arch = np.load(<span class="string">'array_archive.npz'</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">218</span>]: arch[<span class="string">'b'</span>]</span><br><span class="line">Out[<span class="number">218</span>]: array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>
<p>如果数据压缩的很好，就可以使用numpy.savez_compressed：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">219</span>]: np.savez_compressed(<span class="string">'arrays_compressed.npz'</span>, a=arr, b=arr)</span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/05/27/数据结构/" rel="next" title="数据结构">
                <i class="fa fa-chevron-left"></i> 数据结构
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/06/11/高数/" rel="prev" title="高数">
                高数 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">WSC_ZOU</p>
              <p class="site-description motion-element" itemprop="description">A Learner</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Jupyter-Notebook"><span class="nav-number">1.</span> <span class="nav-text">Jupyter Notebook</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Tab补全"><span class="nav-number">1.1.</span> <span class="nav-text">Tab补全</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自省"><span class="nav-number">1.2.</span> <span class="nav-text">自省</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#run命令"><span class="nav-number">1.3.</span> <span class="nav-text">%run命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#命名空间"><span class="nav-number">1.4.</span> <span class="nav-text">命名空间`</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy基础：数组和矢量计算"><span class="nav-number">2.</span> <span class="nav-text">NumPy基础：数组和矢量计算</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#NumPy的ndarray：一种多维数组对象"><span class="nav-number">2.1.</span> <span class="nav-text">NumPy的ndarray：一种多维数组对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建ndarray"><span class="nav-number">2.1.1.</span> <span class="nav-text">创建ndarray</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ndarray的数据类型"><span class="nav-number">2.1.2.</span> <span class="nav-text">ndarray的数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数组和标量之间的运算"><span class="nav-number">2.1.3.</span> <span class="nav-text">数组和标量之间的运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基本的索引和切片"><span class="nav-number">2.1.4.</span> <span class="nav-text">基本的索引和切片</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#利用数组进行数据处理："><span class="nav-number">2.2.</span> <span class="nav-text">利用数组进行数据处理：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-计算（x-2-y-2）-用meshgrid函数把x，y分开成两个独立数组，然后用np-sqrt-xs-2-ys-2"><span class="nav-number">2.3.</span> <span class="nav-text">1.计算（x^2,y^2）:用meshgrid函数把x，y分开成两个独立数组，然后用np.sqrt(xs  2+ys  2)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#np-meshgrid函数"><span class="nav-number">2.3.1.</span> <span class="nav-text">np.meshgrid函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#函数功能"><span class="nav-number">2.3.1.1.</span> <span class="nav-text">函数功能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#语法"><span class="nav-number">2.3.1.2.</span> <span class="nav-text">语法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#将条件逻辑表述为数组运算"><span class="nav-number">2.4.</span> <span class="nav-text">将条件逻辑表述为数组运算</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数学和统计方法："><span class="nav-number">2.5.</span> <span class="nav-text">数学和统计方法：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#唯一化以及其它的集合逻辑"><span class="nav-number">2.6.</span> <span class="nav-text">唯一化以及其它的集合逻辑</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用于数组的文件输入输出"><span class="nav-number">2.7.</span> <span class="nav-text">用于数组的文件输入输出</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">WSC_ZOU</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
